<!DOCTYPE html>





<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.4.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.4.0">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.4.0">
  <link rel="mask-icon" href="/images/logo.svg?v=7.4.0" color="#222">
  <link rel="alternate" href="/atom.xml" title="Nototaku" type="application/atom+xml">

<link rel="stylesheet" href="/css/main.css?v=7.4.0">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.4.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: '复制',
      copy_success: '复制成功',
      copy_failure: '复制失败'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="所有的示例都来自与Curl Cookbook">
<meta name="keywords" content="linux">
<meta property="og:type" content="article">
<meta property="og:title" content="curl总结">
<meta property="og:url" content="http://yoursite.com/2019/09/09/curl/index.html">
<meta property="og:site_name" content="Nototaku">
<meta property="og:description" content="所有的示例都来自与Curl Cookbook">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2021-06-12T14:02:57.794Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="curl总结">
<meta name="twitter:description" content="所有的示例都来自与Curl Cookbook">
  <link rel="canonical" href="http://yoursite.com/2019/09/09/curl/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>curl总结 | Nototaku</title>
  








  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">
  <div class="container use-motion">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Nototaku</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
      
        
        <li class="menu-item menu-item-home">
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-tags">
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-archives">
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
            

          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
      <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block post">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/09/09/curl/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Narlim">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/Laughing_man_logo.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nototaku">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">curl总结

          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2019-09-09 22:55:11" itemprop="dateCreated datePublished" datetime="2019-09-09T22:55:11+08:00">2019-09-09</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-06-12 22:02:57" itemprop="dateModified" datetime="2021-06-12T22:02:57+08:00">2021-06-12</time>
              </span>
            
          

          
            <span id="/2019/09/09/curl/" class="post-meta-item leancloud_visitors" data-flag-title="curl总结" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
        
      
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2019/09/09/curl/#comments" itemprop="discussionUrl"><span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/09/09/curl/" itemprop="commentCount"></span></a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>所有的示例都来自与<a href="https://catonmat.net/cookbooks/curl" target="_blank" rel="noopener">Curl Cookbook</a></p>
<a id="more"></a>

<h4 id="POST请求"><a href="#POST请求" class="headerlink" title="POST请求"></a>POST请求</h4><h6 id="发送一个post请求"><a href="#发送一个post请求" class="headerlink" title="发送一个post请求"></a>发送一个post请求</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -d <span class="string">'login=emma&amp;password=123'</span> -X POST https://google.com/login</span></span><br></pre></td></tr></table></figure>

<p>也可以直接不用写“-X POST”，因为有了“-d”，默认用post请求：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -d <span class="string">'login=emma&amp;password=123'</span> https://google.com/login</span></span><br></pre></td></tr></table></figure>

<p>或者可以这样：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -d <span class="string">'login=emma'</span> -d <span class="string">'password=123'</span> https://google.com/login</span></span><br></pre></td></tr></table></figure>

<h6 id="追随重定向："><a href="#追随重定向：" class="headerlink" title="追随重定向："></a>追随重定向：</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -L -d <span class="string">'tweet=hi'</span> https://api.twitter.com/tweet</span></span><br></pre></td></tr></table></figure>

<h6 id="发送一个json数据："><a href="#发送一个json数据：" class="headerlink" title="发送一个json数据："></a>发送一个json数据：</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -d <span class="string">'&#123;"login": "emma", "pass": "123"&#125;'</span> -H <span class="string">'Content-Type: application/json'</span> https://google.com/login</span></span><br></pre></td></tr></table></figure>

<h6 id="发送文本格式数据："><a href="#发送文本格式数据：" class="headerlink" title="发送文本格式数据："></a>发送文本格式数据：</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -d <span class="string">'hello world'</span> -H <span class="string">'Content-Type: text/plain'</span> https://google.com/login</span></span><br></pre></td></tr></table></figure>

<h6 id="从一个文件中发送数据："><a href="#从一个文件中发送数据：" class="headerlink" title="从一个文件中发送数据："></a>从一个文件中发送数据：</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -d <span class="string">'@data.txt'</span> https://google.com/login</span></span><br></pre></td></tr></table></figure>

<h6 id="发送一个二进制文件："><a href="#发送一个二进制文件：" class="headerlink" title="发送一个二进制文件："></a>发送一个二进制文件：</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -F <span class="string">'file=@photo.png'</span> https://google.com/profile</span></span><br></pre></td></tr></table></figure>

<h6 id="发送一个二进制文件，并设置mime类型："><a href="#发送一个二进制文件，并设置mime类型：" class="headerlink" title="发送一个二进制文件，并设置mime类型："></a>发送一个二进制文件，并设置mime类型：</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -F <span class="string">'file=@photo.png;type=image/png'</span> https://google.com/profile</span></span><br></pre></td></tr></table></figure>

<h4 id="添加http头"><a href="#添加http头" class="headerlink" title="添加http头"></a>添加http头</h4><h6 id="添加一个简单的头"><a href="#添加一个简单的头" class="headerlink" title="添加一个简单的头"></a>添加一个简单的头</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -H <span class="string">'Accept-Language: en-US'</span> https://google.com</span></span><br></pre></td></tr></table></figure>

<h6 id="添加两个头"><a href="#添加两个头" class="headerlink" title="添加两个头"></a>添加两个头</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -H <span class="string">'Accept-Language: en-US'</span> -H <span class="string">'Secret-Message: xyzzy'</span> https://google.com</span></span><br></pre></td></tr></table></figure>

<h6 id="添加一个空头"><a href="#添加一个空头" class="headerlink" title="添加一个空头"></a>添加一个空头</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -H <span class="string">'Puppies;'</span> https://google.com</span></span><br></pre></td></tr></table></figure>

<h4 id="修改user-agent"><a href="#修改user-agent" class="headerlink" title="修改user agent"></a>修改user agent</h4><p>User-Agent 首部包含了一个特征字符串，用来让网络协议的对端来识别发起请求的用户代理软件的应用类型、操作系统、软件开发商以及版本号。</p>
<h6 id="改为firefox的useragent"><a href="#改为firefox的useragent" class="headerlink" title="改为firefox的useragent"></a>改为firefox的useragent</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -A <span class="string">'Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:60.0) Gecko/20100101 Firefox/60.0'</span> https://google.com</span></span><br></pre></td></tr></table></figure>

<h6 id="改为chrome的useragent"><a href="#改为chrome的useragent" class="headerlink" title="改为chrome的useragent"></a>改为chrome的useragent</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -A <span class="string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.100 Safari/537.36'</span> https://google.com</span></span><br></pre></td></tr></table></figure>

<h6 id="假装是Google-bot"><a href="#假装是Google-bot" class="headerlink" title="假装是Google bot"></a>假装是Google bot</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -A <span class="string">'Googlebot/2.1 (+http://www.google.com/bot.html)'</span> https://washingtonpost.com</span></span><br></pre></td></tr></table></figure>

<h6 id="用-H参数修改useragent"><a href="#用-H参数修改useragent" class="headerlink" title="用-H参数修改useragent"></a>用-H参数修改useragent</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -H <span class="string">'User-Agent: php/1.0'</span> https://google.com</span></span><br></pre></td></tr></table></figure>

<h4 id="设置cookie"><a href="#设置cookie" class="headerlink" title="设置cookie"></a>设置cookie</h4><h6 id="添加一个cookie"><a href="#添加一个cookie" class="headerlink" title="添加一个cookie"></a>添加一个cookie</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -b <span class="string">'session=abcdef'</span> https://google.com</span></span><br></pre></td></tr></table></figure>

<h6 id="添加两个cookie"><a href="#添加两个cookie" class="headerlink" title="添加两个cookie"></a>添加两个cookie</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -b <span class="string">'session=abcdef'</span> -b <span class="string">'loggedin=true'</span> https://google.com</span></span><br></pre></td></tr></table></figure>

<h6 id="添加一个空的cookie"><a href="#添加一个空的cookie" class="headerlink" title="添加一个空的cookie"></a>添加一个空的cookie</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -b <span class="string">'session='</span> https://google.com</span></span><br></pre></td></tr></table></figure>

<h6 id="保存一个cookie到文件中"><a href="#保存一个cookie到文件中" class="headerlink" title="保存一个cookie到文件中"></a>保存一个cookie到文件中</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -c cookies.txt https://www.google.com</span></span><br></pre></td></tr></table></figure>

<h6 id="加载一个cookie"><a href="#加载一个cookie" class="headerlink" title="加载一个cookie"></a>加载一个cookie</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -b cookies.txt https://www.google.com</span></span><br></pre></td></tr></table></figure>

<h4 id="添加referrer"><a href="#添加referrer" class="headerlink" title="添加referrer"></a>添加referrer</h4><p>Referer 首部包含了当前请求页面的来源页面的地址，即表示当前页面是通过此来源页面里的链接进入的。服务端一般使用 Referer 首部识别访问来源，可能会以此进行统计分析、日志记录以及缓存优化等。</p>
<h5 id="添加一个referrer"><a href="#添加一个referrer" class="headerlink" title="添加一个referrer"></a>添加一个referrer</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -e <span class="string">'https://google.com?q=cats'</span> http://catonmat.net</span></span><br></pre></td></tr></table></figure>

<p>When the owner of catonmat.net will look in his access.log files, he’ll think that someone came from Google while searching for cats, but in reality, we’ll have bamboozled the owner catonmat.net.</p>
<h6 id="发送一个空的referrer"><a href="#发送一个空的referrer" class="headerlink" title="发送一个空的referrer"></a>发送一个空的referrer</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -e <span class="string">''</span> http://catonmat.net</span></span><br></pre></td></tr></table></figure>

<h6 id="用-H参数添加"><a href="#用-H参数添加" class="headerlink" title="用-H参数添加"></a>用-H参数添加</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -H <span class="string">'Referer: https://digg.com'</span> http://catonmat.net</span></span><br></pre></td></tr></table></figure>

<h4 id="追踪重定向"><a href="#追踪重定向" class="headerlink" title="追踪重定向"></a>追踪重定向</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -L http://catonmat.net</span></span><br></pre></td></tr></table></figure>

<h4 id="设置basic-HTTP-Authentication"><a href="#设置basic-HTTP-Authentication" class="headerlink" title="设置basic HTTP Authentication"></a>设置basic HTTP Authentication</h4><h6 id="设置用户名和密码"><a href="#设置用户名和密码" class="headerlink" title="设置用户名和密码"></a>设置用户名和密码</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -u <span class="string">'bob:12345'</span> https://google.com/login</span></span><br></pre></td></tr></table></figure>

<h6 id="在url中设置用户名和密码"><a href="#在url中设置用户名和密码" class="headerlink" title="在url中设置用户名和密码"></a>在url中设置用户名和密码</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl https://bob:12345@google.com/login</span></span><br></pre></td></tr></table></figure>

<h6 id="命令行提示密码"><a href="#命令行提示密码" class="headerlink" title="命令行提示密码"></a>命令行提示密码</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -u <span class="string">'bob'</span> https://google.com/login</span></span><br></pre></td></tr></table></figure>

<h4 id="打印响应头"><a href="#打印响应头" class="headerlink" title="打印响应头"></a>打印响应头</h4><h6 id="打印头和体"><a href="#打印头和体" class="headerlink" title="打印头和体"></a>打印头和体</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -i https://catonmat.net</span></span><br></pre></td></tr></table></figure>

<h6 id="仅打印头"><a href="#仅打印头" class="headerlink" title="仅打印头"></a>仅打印头</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -s -o /dev/null -D - https://catonmat.net</span></span><br></pre></td></tr></table></figure>

<p>或者：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -I https://catonmat.net</span></span><br></pre></td></tr></table></figure>

<h4 id="使用代理"><a href="#使用代理" class="headerlink" title="使用代理"></a>使用代理</h4><h6 id="使用socks5代理"><a href="#使用socks5代理" class="headerlink" title="使用socks5代理"></a>使用socks5代理</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -x socks5://127.0.0.1:1080 https://google.com</span></span><br></pre></td></tr></table></figure>

<h6 id="使用http代理"><a href="#使用http代理" class="headerlink" title="使用http代理"></a>使用http代理</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -x http://127.0.0.1:8001 https://google.com</span></span><br></pre></td></tr></table></figure>

<h4 id="忽略ssl证书"><a href="#忽略ssl证书" class="headerlink" title="忽略ssl证书"></a>忽略ssl证书</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -k https://catonmat.net</span></span><br></pre></td></tr></table></figure>

<h6 id="用version-1-的ssl版本"><a href="#用version-1-的ssl版本" class="headerlink" title="用version 1 的ssl版本"></a>用version 1 的ssl版本</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -1 https://catonmat.net</span></span><br></pre></td></tr></table></figure>

<h4 id="保存响应到文件"><a href="#保存响应到文件" class="headerlink" title="保存响应到文件"></a>保存响应到文件</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -o response.txt https://google.com?q=kitties</span></span><br></pre></td></tr></table></figure>

<h6 id="用url的最后一段作为文件名"><a href="#用url的最后一段作为文件名" class="headerlink" title="用url的最后一段作为文件名"></a>用url的最后一段作为文件名</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -O https://catonmat.net/ftp/digg.pm</span></span><br></pre></td></tr></table></figure>

<h4 id="限制curl的速度"><a href="#限制curl的速度" class="headerlink" title="限制curl的速度"></a>限制curl的速度</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl --<span class="built_in">limit</span>-rate 200k https://google.com</span></span><br></pre></td></tr></table></figure>

<h4 id="debug-curl-request"><a href="#debug-curl-request" class="headerlink" title="debug curl request"></a>debug curl request</h4><h6 id="make-curl-verbose"><a href="#make-curl-verbose" class="headerlink" title="make curl verbose"></a>make curl verbose</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -v https://catonmat.net</span></span><br></pre></td></tr></table></figure>

<h6 id="追踪细节"><a href="#追踪细节" class="headerlink" title="追踪细节"></a>追踪细节</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl --trace - https://catonmat.net</span></span><br></pre></td></tr></table></figure>

<h6 id="只打印响应码"><a href="#只打印响应码" class="headerlink" title="只打印响应码"></a>只打印响应码</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -w <span class="string">'%&#123;response_code&#125;'</span> -s -o /dev/null https://catonmat.net</span></span><br></pre></td></tr></table></figure>


    </div>

    
    
    
        
      

      <footer class="post-footer">
          
            
          
          <div class="post-tags">
            
              <a href="/tags/linux/" rel="tag"># linux</a>
            
          </div>
        

        

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="/2019/09/08/firacode/" rel="next" title="VS Code字体推荐：Fira Code">
                  <i class="fa fa-chevron-left"></i> VS Code字体推荐：Fira Code
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
                <a href="/2019/09/10/python-callback/" rel="prev" title="python回调函数">
                  python回调函数 <i class="fa fa-chevron-right"></i>
                </a>
              
            </div>
          </div>
        
      </footer>
    
  </div>
  
  
  
  </article>

  </div>


          </div>
          
    
    
  <div class="comments" id="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  
  

        </div>
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">
        
        
        
        
      

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#POST请求"><span class="nav-number">1.</span> <span class="nav-text">POST请求</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#发送一个post请求"><span class="nav-number">1.0.1.</span> <span class="nav-text">发送一个post请求</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#追随重定向："><span class="nav-number">1.0.2.</span> <span class="nav-text">追随重定向：</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#发送一个json数据："><span class="nav-number">1.0.3.</span> <span class="nav-text">发送一个json数据：</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#发送文本格式数据："><span class="nav-number">1.0.4.</span> <span class="nav-text">发送文本格式数据：</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#从一个文件中发送数据："><span class="nav-number">1.0.5.</span> <span class="nav-text">从一个文件中发送数据：</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#发送一个二进制文件："><span class="nav-number">1.0.6.</span> <span class="nav-text">发送一个二进制文件：</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#发送一个二进制文件，并设置mime类型："><span class="nav-number">1.0.7.</span> <span class="nav-text">发送一个二进制文件，并设置mime类型：</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#添加http头"><span class="nav-number">2.</span> <span class="nav-text">添加http头</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#添加一个简单的头"><span class="nav-number">2.0.1.</span> <span class="nav-text">添加一个简单的头</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#添加两个头"><span class="nav-number">2.0.2.</span> <span class="nav-text">添加两个头</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#添加一个空头"><span class="nav-number">2.0.3.</span> <span class="nav-text">添加一个空头</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#修改user-agent"><span class="nav-number">3.</span> <span class="nav-text">修改user agent</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#改为firefox的useragent"><span class="nav-number">3.0.1.</span> <span class="nav-text">改为firefox的useragent</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#改为chrome的useragent"><span class="nav-number">3.0.2.</span> <span class="nav-text">改为chrome的useragent</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#假装是Google-bot"><span class="nav-number">3.0.3.</span> <span class="nav-text">假装是Google bot</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#用-H参数修改useragent"><span class="nav-number">3.0.4.</span> <span class="nav-text">用-H参数修改useragent</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#设置cookie"><span class="nav-number">4.</span> <span class="nav-text">设置cookie</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#添加一个cookie"><span class="nav-number">4.0.1.</span> <span class="nav-text">添加一个cookie</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#添加两个cookie"><span class="nav-number">4.0.2.</span> <span class="nav-text">添加两个cookie</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#添加一个空的cookie"><span class="nav-number">4.0.3.</span> <span class="nav-text">添加一个空的cookie</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#保存一个cookie到文件中"><span class="nav-number">4.0.4.</span> <span class="nav-text">保存一个cookie到文件中</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#加载一个cookie"><span class="nav-number">4.0.5.</span> <span class="nav-text">加载一个cookie</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#添加referrer"><span class="nav-number">5.</span> <span class="nav-text">添加referrer</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#添加一个referrer"><span class="nav-number">5.1.</span> <span class="nav-text">添加一个referrer</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#发送一个空的referrer"><span class="nav-number">5.1.1.</span> <span class="nav-text">发送一个空的referrer</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#用-H参数添加"><span class="nav-number">5.1.2.</span> <span class="nav-text">用-H参数添加</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#追踪重定向"><span class="nav-number">6.</span> <span class="nav-text">追踪重定向</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#设置basic-HTTP-Authentication"><span class="nav-number">7.</span> <span class="nav-text">设置basic HTTP Authentication</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#设置用户名和密码"><span class="nav-number">7.0.1.</span> <span class="nav-text">设置用户名和密码</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#在url中设置用户名和密码"><span class="nav-number">7.0.2.</span> <span class="nav-text">在url中设置用户名和密码</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#命令行提示密码"><span class="nav-number">7.0.3.</span> <span class="nav-text">命令行提示密码</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#打印响应头"><span class="nav-number">8.</span> <span class="nav-text">打印响应头</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#打印头和体"><span class="nav-number">8.0.1.</span> <span class="nav-text">打印头和体</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#仅打印头"><span class="nav-number">8.0.2.</span> <span class="nav-text">仅打印头</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#使用代理"><span class="nav-number">9.</span> <span class="nav-text">使用代理</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#使用socks5代理"><span class="nav-number">9.0.1.</span> <span class="nav-text">使用socks5代理</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#使用http代理"><span class="nav-number">9.0.2.</span> <span class="nav-text">使用http代理</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#忽略ssl证书"><span class="nav-number">10.</span> <span class="nav-text">忽略ssl证书</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#用version-1-的ssl版本"><span class="nav-number">10.0.1.</span> <span class="nav-text">用version 1 的ssl版本</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#保存响应到文件"><span class="nav-number">11.</span> <span class="nav-text">保存响应到文件</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#用url的最后一段作为文件名"><span class="nav-number">11.0.1.</span> <span class="nav-text">用url的最后一段作为文件名</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#限制curl的速度"><span class="nav-number">12.</span> <span class="nav-text">限制curl的速度</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#debug-curl-request"><span class="nav-number">13.</span> <span class="nav-text">debug curl request</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#make-curl-verbose"><span class="nav-number">13.0.1.</span> <span class="nav-text">make curl verbose</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#追踪细节"><span class="nav-number">13.0.2.</span> <span class="nav-text">追踪细节</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#只打印响应码"><span class="nav-number">13.0.3.</span> <span class="nav-text">只打印响应码</span></a></li></ol></li></ol></li></ol></div>
        
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image"
      src="/images/Laughing_man_logo.png"
      alt="Narlim">
  <p class="site-author-name" itemprop="name">Narlim</p>
  <div class="site-description" itemprop="description"></div>
</div>
  <nav class="site-state motion-element">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">53</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
          
            <a href="/tags/">
          
        
        <span class="site-state-item-count">24</span>
        <span class="site-state-item-name">标签</span>
        </a>
      </div>
    
  </nav>
  <div class="feed-link motion-element">
    <a href="/atom.xml" rel="alternate">
      <i class="fa fa-rss"></i>RSS
    </a>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title">
      <i class="fa fa-fw fa-link"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://ghost.qinan.co/" title="https://ghost.qinan.co/" rel="noopener" target="_blank">奇楠木语</a>
        </li>
      
        <li class="links-of-blogroll-item">
          <a href="https://liolok.github.io" title="https://liolok.github.io" rel="noopener" target="_blank">LIOLOG</a>
        </li>
      
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2019 – <span itemprop="copyrightYear">2021</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Narlim</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.9.0</div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.4.0</div>

        






  
  <script>
  function leancloudSelector(url) {
    return document.getElementById(url).querySelector('.leancloud-visitors-count');
  }
  if (CONFIG.page.isPost) {
    function addCount(Counter) {
      var visitors = document.querySelector('.leancloud_visitors');
      var url = visitors.getAttribute('id').trim();
      var title = visitors.getAttribute('data-flag-title').trim();

      Counter('get', `/classes/Counter?where=${JSON.stringify({ url })}`)
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            var counter = results[0];
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .then(response => response.json())
              .then(() => {
                leancloudSelector(url).innerText = counter.time + 1;
              })
            
              .catch(error => {
                console.log('Failed to save visitor count', error);
              })
          } else {
              Counter('post', '/classes/Counter', { title: title, url: url, time: 1 })
                .then(response => response.json())
                .then(() => {
                  leancloudSelector(url).innerText = 1;
                })
                .catch(error => {
                  console.log('Failed to create', error);
                });
            
          }
        })
        .catch(error => {
          console.log('LeanCloud Counter Error', error);
        });
    }
  } else {
    function showTime(Counter) {
      var visitors = document.querySelectorAll('.leancloud_visitors');
      var entries = [...visitors].map(element => {
        return element.getAttribute('id').trim();
      });

      Counter('get', `/classes/Counter?where=${JSON.stringify({ url: { '$in': entries } })}`)
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length === 0) {
            document.querySelectorAll('.leancloud_visitors .leancloud-visitors-count').forEach(element => {
              element.innerText = 0;
            });
            return;
          }
          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.url;
            var time = item.time;
            leancloudSelector(url).innerText = time;
          }
          for (var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = leancloudSelector(url);
            if (element.innerText == '') {
              element.innerText = 0;
            }
          }
        })
        .catch(error => {
          console.log('LeanCloud Counter Error', error);
        });
    }
  }

  fetch('https://app-router.leancloud.cn/2/route?appId=UnGjdjzgCgtCbeup6X9wI9EP-MdYXbMMI')
    .then(response => response.json())
    .then(({ api_server }) => {
      var Counter = (method, url, data) => {
        return fetch(`https://${api_server}/1.1${url}`, {
          method: method,
          headers: {
            'X-LC-Id': 'UnGjdjzgCgtCbeup6X9wI9EP-MdYXbMMI',
            'X-LC-Key': 'Crb6d8ghnDlTxnwEHdXK8a8L',
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        const localhost = /http:\/\/(localhost|127.0.0.1|0.0.0.0)/;
        if (localhost.test(document.URL)) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    });
  </script>






        
      </div>
    </footer>
  </div>

  


  <script src="/lib/anime.min.js?v=3.1.0"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="/js/utils.js?v=7.4.0"></script><script src="/js/motion.js?v=7.4.0"></script>
<script src="/js/schemes/pisces.js?v=7.4.0"></script>
<script src="/js/next-boot.js?v=7.4.0"></script>



  





















  

  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://nototaku.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  function disqus_config() {
    this.page.url = "http://yoursite.com/2019/09/09/curl/";
    this.page.identifier = "2019/09/09/curl/";
    this.page.title = 'curl总结';};
  function loadComments() {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://nototaku.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  }
    window.addEventListener('load', loadComments, false);
  
</script>

</body>
</html>
